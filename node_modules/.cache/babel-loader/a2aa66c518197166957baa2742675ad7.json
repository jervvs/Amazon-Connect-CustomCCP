{"ast":null,"code":"var _jsxFileName = \"/Users/jervchan/Downloads/Amazon-Connect-CustomCCP/src/components/customerAttributes.js\";\nimport React, { Component } from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport Table from 'react-bootstrap/Table';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nwindow.myCPP = window.myCPP || {};\nconst lily = window.connect;\n\nclass CustomerAttributes extends Component {\n  componentDidMount() {\n    lily.contact(this.subscribeToContactEvents);\n  }\n\n  subscribeToContactEvents(contact) {\n    window.myCPP.contact = contact;\n    this.updateContactAttribute(contact.getAttributes());\n    contact.onEnded(this.clearContactAttribute);\n  }\n\n  updateContactAttribute(msg) {\n    var tableRef = document.getElementById('attributesTable').getElementsByTagName('tbody')[0];\n\n    for (var key in msg) {\n      if (msg.hasOwnProperty(key)) {\n        var row = tableRef.insertRow(tableRef.rows.length);\n        var cell1 = row.insertCell(0);\n        var cell2 = row.insertCell(1);\n        cell1.innerHTML = key;\n        cell2.innerHTML = msg[key]['value'];\n      }\n    }\n  }\n\n  clearContactAttribute() {\n    var old_tbody = document.getElementById('attributesTable').getElementsByTagName('tbody')[0];\n    var new_tbody = document.createElement('tbody');\n    old_tbody.parentNode.replaceChild(new_tbody, old_tbody);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"Contact Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        id: \"attributesTable\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Attribute Name \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Attribute Value \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 34\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default CustomerAttributes;","map":{"version":3,"sources":["/Users/jervchan/Downloads/Amazon-Connect-CustomCCP/src/components/customerAttributes.js"],"names":["React","Component","Container","Table","window","myCPP","lily","connect","CustomerAttributes","componentDidMount","contact","subscribeToContactEvents","updateContactAttribute","getAttributes","onEnded","clearContactAttribute","msg","tableRef","document","getElementById","getElementsByTagName","key","hasOwnProperty","row","insertRow","rows","length","cell1","insertCell","cell2","innerHTML","old_tbody","new_tbody","createElement","parentNode","replaceChild","render","textAlign"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,SAAT,QAA0B,iBAA1B;AACA,OAAOC,KAAP,MAAkB,uBAAlB;;AAEAC,MAAM,CAACC,KAAP,GAAeD,MAAM,CAACC,KAAP,IAAgB,EAA/B;AACA,MAAMC,IAAI,GAAGF,MAAM,CAACG,OAApB;;AAEA,MAAMC,kBAAN,SAAiCP,SAAjC,CAA0C;AACtCQ,EAAAA,iBAAiB,GAAE;AACjBH,IAAAA,IAAI,CAACI,OAAL,CAAa,KAAKC,wBAAlB;AACD;;AAEDA,EAAAA,wBAAwB,CAACD,OAAD,EAAU;AAChCN,IAAAA,MAAM,CAACC,KAAP,CAAaK,OAAb,GAAuBA,OAAvB;AACA,SAAKE,sBAAL,CAA4BF,OAAO,CAACG,aAAR,EAA5B;AACAH,IAAAA,OAAO,CAACI,OAAR,CAAgB,KAAKC,qBAArB;AACD;;AAEDH,EAAAA,sBAAsB,CAACI,GAAD,EAAK;AACzB,QAAIC,QAAQ,GAAGC,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA2CC,oBAA3C,CAAgE,OAAhE,EAAyE,CAAzE,CAAf;;AACA,SAAK,IAAIC,GAAT,IAAgBL,GAAhB,EAAqB;AACnB,UAAIA,GAAG,CAACM,cAAJ,CAAmBD,GAAnB,CAAJ,EAA6B;AAC3B,YAAIE,GAAG,GAAGN,QAAQ,CAACO,SAAT,CAAmBP,QAAQ,CAACQ,IAAT,CAAcC,MAAjC,CAAV;AACA,YAAIC,KAAK,GAAGJ,GAAG,CAACK,UAAJ,CAAe,CAAf,CAAZ;AACA,YAAIC,KAAK,GAAGN,GAAG,CAACK,UAAJ,CAAe,CAAf,CAAZ;AACAD,QAAAA,KAAK,CAACG,SAAN,GAAkBT,GAAlB;AACAQ,QAAAA,KAAK,CAACC,SAAN,GAAkBd,GAAG,CAACK,GAAD,CAAH,CAAS,OAAT,CAAlB;AACD;AACF;AACF;;AAEDN,EAAAA,qBAAqB,GAAE;AACrB,QAAIgB,SAAS,GAAEb,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA2CC,oBAA3C,CAAgE,OAAhE,EAAyE,CAAzE,CAAf;AACA,QAAIY,SAAS,GAAGd,QAAQ,CAACe,aAAT,CAAuB,OAAvB,CAAhB;AACAF,IAAAA,SAAS,CAACG,UAAV,CAAqBC,YAArB,CAAkCH,SAAlC,EAA6CD,SAA7C;AACD;;AAGDK,EAAAA,MAAM,GAAE;AACJ,wBACE,QAAC,SAAD;AAAA,8BACE;AAAI,QAAA,KAAK,EAAE;AAACC,UAAAA,SAAS,EAAC;AAAX,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,KAAD;AAAO,QAAA,EAAE,EAAC,iBAAV;AAAA,gCACE;AAAA,iCACE;AAAA,oCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAOE;AAAA,iCACM;AAAA,oCAAI;AAAA;AAAA;AAAA;AAAA,oBAAJ,eAAa;AAAA;AAAA;AAAA;AAAA,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AADN;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAgBH;;AAhDqC;;AAmD1C,eAAe7B,kBAAf","sourcesContent":["import React, {Component} from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport Table from 'react-bootstrap/Table'\n\nwindow.myCPP = window.myCPP || {};\nconst lily = window.connect;\n\nclass CustomerAttributes extends Component{\n    componentDidMount(){\n      lily.contact(this.subscribeToContactEvents);\n    }\n\n    subscribeToContactEvents(contact) {\n      window.myCPP.contact = contact;\n      this.updateContactAttribute(contact.getAttributes());    \n      contact.onEnded(this.clearContactAttribute);\n    }\n\n    updateContactAttribute(msg){\n      var tableRef = document.getElementById('attributesTable').getElementsByTagName('tbody')[0];      \n      for (var key in msg) {\n        if (msg.hasOwnProperty(key)) {\n          var row = tableRef.insertRow(tableRef.rows.length);\n          var cell1 = row.insertCell(0);\n          var cell2 = row.insertCell(1);\n          cell1.innerHTML = key;\n          cell2.innerHTML = msg[key]['value'];\n        }\n      }\n    }\n    \n    clearContactAttribute(){\n      var old_tbody= document.getElementById('attributesTable').getElementsByTagName('tbody')[0];\n      var new_tbody = document.createElement('tbody');    \n      old_tbody.parentNode.replaceChild(new_tbody, old_tbody);     \n    }\n    \n    \n    render(){\n        return(\n          <Container>\n            <h2 style={{textAlign:\"center\"}}>Contact Details</h2>\n            <Table id=\"attributesTable\">\n              <thead>\n                <tr>\n                    <th>Attribute Name </th>\n                    <th>Attribute Value </th>\n                </tr>\n              </thead>\n              <tbody>\n                    <tr><td></td><td></td></tr>\n              </tbody>\n            </Table>\n          </Container>\n        );\n    }\n}\n\nexport default CustomerAttributes\n\n"]},"metadata":{},"sourceType":"module"}